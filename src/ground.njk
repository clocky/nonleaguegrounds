---
layout: base.njk
pagination:
    data: grounds
    size: 1
    alias: ground
permalink: "grounds/{{ ground.areaServed.name | slugify }}/{{ ground.name | slugify }}/index.html"
eleventyComputed:
    title: "{{ ground.name | safe }} | {{ meta.title }}"
    description: "Information about the non-league football ground, {{ ground.name }}, with maps, address and contact information."
---
{% from "breadcrumb.macro.njk" import breadcrumb %}

{% from "macros.njk" import staticmap as google %}

{%- set address -%}
{{ ground.name | replace("'", "") | urlencode -}},{{- ground.locality | urlencode }},{{ ground.region | urlencode }},{{ ground.postcode | urlencode }}
{%- endset -%}
{%- set key = env.google_maps_api_key -%}

{# <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "StadiumOrArena",
    "image": [
      "https://dev.virtualearth.net/REST/v1/Imagery/Map/Aerial/{{ground.latitude}},{{ground.longitude}}/17?mapSize=320,320&query={{ground.name | urlencode}}&mapLayer=Basemap,Buildings&format=jpeg&mapMetadata=0&key={{ env.bing_maps_api_key }}", "https://dev.virtualearth.net/REST/v1/Imagery/Map/Aerial/{{ground.latitude}},{{ground.longitude}}/17?mapSize=568,320&query={{ground.name | urlencode}}&mapLayer=Basemap,Buildings&format=jpeg&mapMetadata=0&key={{ env.bing_maps_api_key }}", "https://dev.virtualearth.net/REST/v1/Imagery/Map/Aerial/{{ground.latitude}},{{ground.longitude}}/17?mapSize=426,320&query={{ground.name | urlencode}}&mapLayer=Basemap,Buildings&format=jpeg&mapMetadata=0&key={{ env.bing_maps_api_key }}"
    ],
    "name": "{{ ground.name }}",
    "priceRange": "££",
    "maximumAttendeeCapacity": "{{ ground.capacity }}",
    "location": {
      "@type": "Place",
      "latitude": "{{ ground.latitude }}",
      "longitude": "{{ ground.longitude }}"
    },
    "identifier": {
      "@type": "url",
      "@id": "{{ meta.base }}/ground/{{ ground.region | slugify }}/{{ ground.name | slugify }}"
    },
    "address": {
      "@type": "PostalAddress",
      {%- if ground.street %}"streetAddress": "{{ ground.street }}",{%- endif %}
      "addressLocality": "{{ ground.locality }}",
      "addressRegion": "{% county ground.postcode %}",
      "postalCode": "{{ ground.postcode }}",
      "addressCountry": {
        "@type": "Country",
        "name": "{% country ground.postcode %}"
      }
    },
    {%- if ground.sponsor %}
      "sponsor": {
        "@type": "Organization",
        "name": "{{ ground.sponsor }}"
      },
    {%- endif %}
  }
</script> #}

<header class="container-fluid hero" id="{{ ground.name | slugify }}" data-theme="dark">
  <div class="container">
    <h1>
      {{ ground.name | replace(" ", "\n") | nl2br | safe }}
    </h1>
  </div>
</header>

{{ breadcrumb("Grounds", ground.areaServed.name, ground.name) }}

<main class="container">
  <div class="grid">
    <section>
      <h3>Overview</h3>
      <p>
        {% if ground.sponsor %}
          <strong>{{ ground.name }}</strong>, also known as <strong>{{ ground.sponsor.name }}</strong> for sponsorship purposes, is a football ground in {{ ground.address.addressLocality }}, {{ ground.address.addressRegion }}.
        {% else %}
          <strong>{{ ground.name }}</strong> is a football ground {% if ground.address.addressLocality %} in {{ ground.address.addressLocality }}, {{ ground.address.addressRegion }}.
          {%- endif %}
        {% endif %}
        The current capacity of the ground is <a href="/ground/#{{ ground.name | slugify }}">{{ ground.maximumAttendeeCapacity | commaNumber }}</a>
        {%- if ground.additionalProperty.name == "surface" %}, with a pitch surface of {{ ground.additionalProperty.@value -}}
        {% endif %}
      </p>
      <p>
        {% if ground.subOrganization.length == 1 %}
          <a href="/club/{{ ground.subOrganization[0].name | slugify }}">{{ ground.subOrganization[0].name }}</a> play their home games at {{ ground.name }}.
          {% else %}
          {% for club in ground.subOrganization %}
            {% if loop.last %}
                and <a href="/club/{{ club.name | slugify }}">{{ club.name }}</a> play their home games at {{ ground.name }}.
              {% else %}
              <a href="/club/{{ c.name | slugify }}">{{ club.name }}</a>
            {% endif %}
          {% endfor %}
        {% endif %}
      </p>
      <h4>Information</h4>
      <table role="grid">
        <tbody>
          <tr>
            <th>Name</th>
            <td>
              {{ ground.name }}
            </td>
          </tr>
          {% if ground.sponsor %}
            <tr>
              <th>Sponsor</th>
              <td>
                {{ ground.sponsor.name }}
              </td>
            </tr>
          {% endif %}

          {% if ground.address.addressStreetName %}
            {% if ground.address.addressStreetName != ground.name %}
              <tr>
                <th>Street</th>
                <td>
                  {{ ground.address.addressStreetName }}
                </td>
              </tr>
            {% endif %}
          {% endif %}

          <tr>
            <th>Town</th>
            <td>
              {{ ground.address.addressLocality | upper }}
            </td>
          </tr>

          <tr>
            <th>Postcode</th>
            <td>
              {{ ground.address.postalCode | upper }}
            </td>
          </tr>

        </tbody>
      </table>
      <a href="/downloads/{{ club.name | slugify}}.vcf" role="button" class="outline">Save to address book</a>
      <h4>Nearby grounds</h4>
      <ul>
        {% set count = 0%}
        {% for away in grounds %}
          {# Call distance shortcode to determine mile distance between 
              latitude and longitude of home and away grounds
            #}
          {% set distance %}
          {% distance
          ground.latitude,
          ground.longitude,
          away.latitude,
          away.longitude
 %}
          {% endset %}
          {# Select grounds within 15 mile radius #}
          {% if distance < 15 and away.name != ground.name %}
            <li>
              {% for c in clubs %}
                {% if c.location.name == away.location.name %}
                  <a href="/club/{{ c.name | slugify }}">{{ c.name }}</a>
                  {% set count = count + 1 %}
                {% endif %}
              {% endfor %} at 
                <a href="/grounds/{{ away.address.addressRegion | slugify }}/{{ away.name | slugify }}">{{ away.name }}</a>
                ({{ distance | round(1) }} mi)
              </li>
          {% endif %}
        {% endfor %}
        {% if count == 0 %}
          <li>
              No grounds found within a 10 mile radius.
          </li>
        {% endif %}
      </ul>
      <h4>Maps</h4>
      {# <p>
        <a 
            href="https://www.google.com/maps/search/?api=1&zoom={{zoom}}&query={{address}}&basemap=roadmap" 
            target="_blank" 
            role="button" 
            aria-label="Open in Google Maps">Google Maps</a>
        <a 
            href="https://maps.apple.com/?q={{address}}&sll={{ground.latitude}},{{ground.longitude}}&z={{zoom}}&t=m"
            target="_blank" 
            role="button" 
            aria-label="Open in Apple Maps">Apple Maps</a>
        <a 
            href="https://www.openstreetmap.org/#map={{zoom}}/{{ground.latitude}}/{{ground.longitude}}"
            target="_blank" 
            role="button" 
            aria-label="Open in Open Street Maps">OpenStreetMap</a>
      </p> #}
    </section>
    <aside>
      <figure>
        <img src="https://dev.virtualearth.net/REST/v1/Imagery/Map/AerialWithLabels/{{ground.latitude}},{{ground.longitude}}/18?mapSize=600,450&query={{ground.name | urlencode}}&mapLayer=Basemap,Buildings&format=jpeg&mapMetadata=0&key={{ env.bing_maps_api_key }}"  alt="An aerial photograph of {{ ground.name }} in {{ ground.locality }}, {{ ground.region }}.">
        <figcaption>
          <small>Bing Aerial view of {{ ground.name }}, {{ ground.locality }}</small>
        </figcaption>
      </figure>
    </aside>
  </div>
</main>