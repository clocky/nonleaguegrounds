---
layout: base.njk
pagination:
    data: grounds
    size: 1
    alias: ground
permalink: "/grounds/{{ ground.areaServed.name | slugify }}/{{ ground.name | slugify }}/index.html"
eleventyComputed:
    title: "{{ ground.name | safe }} | {{ meta.title }}"
    description: "Information about the non-league football ground, {{ ground.name }}, with maps, address and contact information."
---
{% from "breadcrumb.macro.njk" import breadcrumb %}
{% from "maps.macro.njk" import apple,
bing,
google,
osm %}

<script type="application/ld+json">
  {{ ground | json | safe }}
</script>

{% set bing_api = env.bing_maps_api_key %}

<section class="hero is-medium is-dark has-background">
  {% hero "https://dev.virtualearth.net/REST/v1/Imagery/Map/Aerial/" + ground.latitude + "," + ground.longitude + "/18?mapSize=1440,335&format=png&mapMetadata=0&key=" + bing_api,
  ground.name %}
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns">
        <div class="column is-two-thirds">
          <h1 class="title is-size-1 is-size-2-tablet is-size-3-mobile has-text-weight-bold has-text-left">
            {{ ground.name }}
          </h1>
          <h2 class="subtitle is-size-4 is-size-5-tablet is-size-6-mobile has-text-left">
            {{ ground.address.addressLocality }}
          </h2>
        </div>
      </div>
    </div>
  </div>
</section>

{{ breadcrumb("Grounds", ground.areaServed.name, ground.name) }}

<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-8 is-variable">
      <div class="column is-two-thirds">
        <p class="block is-size-5">
          <strong>{{ ground.name }}</strong>
          {%- if ground.sponsor %}, officially known as "{{ ground.sponsor.name | safe }}" for sponsorship reasons, {% endif %}
        is an {{ ground.subOrganization[0].sport | lower }} ground in {{ ground.address.addressLocality }}
          {%- if ground.address.addressRegion -%}
        , {{ ground.address.addressRegion }}
          {%- endif %} that holds {{ ground.maximumAttendeeCapacity | commaNumber }} people.
      </p>
        {% for club in ground.subOrganization %}
          <p class="block">
            {% if not loop.first %} 
            The ground is shared with 
            {% else %} 
            The ground is the home of
            {% endif %}
            <a href="/leagues/{{ club.memberOf.name | slugify }}/{{ club.name | safe | slugify }}">{{ club.alternateName }}</a>, 
            who currently compete in the <a href="/leagues/{{ club.memberOf.name | slugify }}">{{ club.memberOf.name }}</a>.</p>
        {% endfor %}

        <div class="buttons">
          <a 
            href="{{ google(ground) }}" 
            target="_blank" 
            class="button" 
            rel="noopener"
            aria-label="Open in Google Maps">
            <span class="icon">
              <i class="fab fa-google"></i>
            </span>
            <span>Google Maps</span></a>
          <a 
            href="{{ apple(ground) }}"
            target="_blank" 
            class="button" 
            rel="noopener"
            aria-label="Open in Apple Maps">
            <span class="icon">
              <i class="fab fa-apple"></i>
            </span>
            <span>Apple Maps</span>
          </a>
          <a 
            href="{{ bing(ground) }}"
            target="_blank" 
            class="button" 
            rel="noopener"
            aria-label="Open in Bing Maps">
            <span class="icon">
              <i class="fab fa-microsoft"></i>
            </span>
            <span>Bing Maps</span>
          </a>
          <a 
            href="{{ osm(ground) }}"
            target="_blank" 
            class="button" 
            rel="noopener"
            aria-label="Open in OpenStreetMap">
            <span class="icon">
              <i class="fas fa-map"></i>
            </span>
            <span>OpenStreetMap</span>
          </a>
        </div>

      </div>
      <div class="column is-one-third">
        <h3 class="heading">Address</h3>
        <address class="block">
          {%- if ground.sponsor %}
            {{ ground.sponsor.name | safe }}<br/>
          {% else %}
            {{ ground.name }}<br/>
          {%- endif %}
          {%- if ground.address.streetName %}
            {%- if ground.address.streetName != ground.name %}
              {{ ground.address.streetName }}
            {%- endif %}
          {%- endif %}
          {{ ground.address.addressLocality | upper }}<br/>
          {%- if ground.address.addressRegion %}
            {{ ground.address.addressRegion }}<br/>
          {%- endif %}
          {{ ground.address.postalCode | upper }}<br/>
        </address>
        <h3 class="heading">Nearby</h3>
        {% set count = 0%}
        <ul>
          {% for away in grounds %}
            {# Call distance shortcode to determine mile distance between 
              latitude and longitude of home and away grounds
            #}
            {% set distance %}
            {% distance
            ground.latitude,
            ground.longitude,
            away.latitude,
            away.longitude
 %}
            {% endset %}
            {# Select grounds within 10 mile radius #}
            {% if distance < 10 and away.name != ground.name %}
              <li>
                {% set count = count + 1 %}
                <a href="/grounds/{{ away.areaServed.name | slugify }}/{{ away.name | slugify }}">{{ away.name }}</a>
                <span class="tag">{{ distance | round(1) }} mi</span>
              </li>
            {% endif %}
          {% endfor %}

          {% if count == 0 %}
            <li>
              No grounds found within a 15 mile radius.
          </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </div>
</section>